<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Wt: Wt::WFileUpload Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceWt.html">Wt</a>      </li>
      <li><a class="el" href="classWt_1_1WFileUpload.html">WFileUpload</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>Wt::WFileUpload Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Wt::WFileUpload" --><!-- doxytag: inherits="Wt::WWebWidget" -->
<p>A widget that allows a file to be uploaded.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;Wt/WFileUpload&gt;</code></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for Wt::WFileUpload:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classWt_1_1WFileUpload__inherit__graph.png" border="0" usemap="#Wt_1_1WFileUpload_inherit__map" alt="Inheritance graph"/></div>
<map name="Wt_1_1WFileUpload_inherit__map" id="Wt_1_1WFileUpload_inherit__map">
<area shape="rect" href="classWt_1_1WWebWidget.html" title="A base class for widgets with an HTML counterpart." alt="" coords="5,161,131,188"/><area shape="rect" href="classWt_1_1WWidget.html" title="The abstract base class for a user&#45;interface component." alt="" coords="19,84,117,111"/><area shape="rect" href="classWt_1_1WObject.html" title="A base class for objects that participate in the signal/slot system." alt="" coords="20,7,116,33"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classWt_1_1WFileUpload-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71fa85fc383df6e36c2bcf4d877b63ec"></a><!-- doxytag: member="Wt::WFileUpload::WFileUpload" ref="a71fa85fc383df6e36c2bcf4d877b63ec" args="(WContainerWidget *parent=0)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a71fa85fc383df6e36c2bcf4d877b63ec">WFileUpload</a> (<a class="el" href="classWt_1_1WContainerWidget.html">WContainerWidget</a> *parent=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a file upload widget. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a17f8e368c2ffc9836c65e470b311de9d">setMultiple</a> (bool multiple)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether the file upload accepts multiple files.  <a href="#a17f8e368c2ffc9836c65e470b311de9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a61784c68272e562e023a356fb1d3d55a">multiple</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether multiple files can be uploaded.  <a href="#a61784c68272e562e023a356fb1d3d55a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7ad1324c86d378da9da9740a631a662"></a><!-- doxytag: member="Wt::WFileUpload::setFileTextSize" ref="ac7ad1324c86d378da9da9740a631a662" args="(int chars)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#ac7ad1324c86d378da9da9740a631a662">setFileTextSize</a> (int chars)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the size of the file input. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39a9998018c87f25d7d884a3a0418cf4"></a><!-- doxytag: member="Wt::WFileUpload::fileTextSize" ref="a39a9998018c87f25d7d884a3a0418cf4" args="() const " -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a39a9998018c87f25d7d884a3a0418cf4">fileTextSize</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the file input. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#ac0897be7484b668e6cc940c7673b1ca9">spoolFileName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the spooled location of the uploaded file.  <a href="#ac0897be7484b668e6cc940c7673b1ca9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1WString.html">WString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a17c00f860b120e0c70d8599d781cbf58">clientFileName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the client filename.  <a href="#a17c00f860b120e0c70d8599d781cbf58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1WString.html">WString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a7933d0052ba63d938870dde50b9aabda">contentDescription</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the client content description.  <a href="#a7933d0052ba63d938870dde50b9aabda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a541d634e9f9e546f59417682811f01ef">stealSpooledFile</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Steals the spooled file.  <a href="#a541d634e9f9e546f59417682811f01ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51c7d5c96d671374ac9651d4fc3c9f08"></a><!-- doxytag: member="Wt::WFileUpload::empty" ref="a51c7d5c96d671374ac9651d4fc3c9f08" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a51c7d5c96d671374ac9651d4fc3c9f08">empty</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether one or more files have been uploaded. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a4207ca5ea74962583d146409301c3416">emptyFileName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if no filename was given and thus no file uploaded. (<b>Deprecated</b>)  <a href="#a4207ca5ea74962583d146409301c3416"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1ffd4c3c203e6772f4a1b2e235888e3"></a><!-- doxytag: member="Wt::WFileUpload::uploadedFiles" ref="ab1ffd4c3c203e6772f4a1b2e235888e3" args="() const " -->
const std::vector<br class="typebreak"/>
&lt; <a class="el" href="classWt_1_1Http_1_1UploadedFile.html">Http::UploadedFile</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#ab1ffd4c3c203e6772f4a1b2e235888e3">uploadedFiles</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the uploaded files. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a">canUpload</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will start a new file upload.  <a href="#a66376fb4668a037760a91abad9f83f8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#aba40acced8b3ab758f53d17f15afcf38">isUploaded</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> slot will not start a new upload. (<b>Deprecated</b>)  <a href="#aba40acced8b3ab758f53d17f15afcf38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1EventSignal.html">EventSignal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe">uploaded</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal emitted when a new file was uploaded.  <a href="#aacb4622c8cd83d1635a8c0db13c8c0fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Signal.html">Signal</a>&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8">fileTooLarge</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal emitted when the user tried to upload a too large file.  <a href="#a29dc78a0162c676f7b72904d595440d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1EventSignal.html">EventSignal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a3abaf94bdba04e7833aa18bc7e8d0f40">changed</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal emitted when the user selected a new file.  <a href="#a3abaf94bdba04e7833aa18bc7e8d0f40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c">upload</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the file upload.  <a href="#ac17094f2fd6ae8cac1035161f7d80b9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a6600c5a1232057418b3fe63d5db1c004">setProgressBar</a> (<a class="el" href="classWt_1_1WProgressBar.html">WProgressBar</a> *progressBar)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a progress bar to indicate upload progress.  <a href="#a6600c5a1232057418b3fe63d5db1c004"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1WProgressBar.html">WProgressBar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#a6ba92fc8abf219fd42972dfe8fa5081e">progressBar</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the progress bar.  <a href="#a6ba92fc8abf219fd42972dfe8fa5081e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Signal.html">Signal</a>&lt; ::uint64_t,::uint64_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#af7e87df88e456f3472bcda2dc07dae4c">dataReceived</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal emitted while a file is being uploaded.  <a href="#af7e87df88e456f3472bcda2dc07dae4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1WFileUpload.html#ad23982f1823db145b0da23508a7aa7fa">enableAjax</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Progresses to an Ajax-enabled widget.  <a href="#ad23982f1823db145b0da23508a7aa7fa"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A widget that allows a file to be uploaded. </p>
<p>This widget is displayed as a box in which a filename can be entered and a browse button.</p>
<p>Depending on availability of JavaScript, the behaviour of the widget is different, but the API is designed in a way which facilitates a portable use.</p>
<p>When JavaScript is available, the file will not be uploaded until <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> is called. This will start an asynchronous upload (and thus return immediately).While the file is being uploaded, the <a class="el" href="classWt_1_1WFileUpload.html#af7e87df88e456f3472bcda2dc07dae4c" title="Signal emitted while a file is being uploaded.">dataReceived()</a> signal is emitted when data is being received and if the connector library provides support (see also <a class="el" href="classWt_1_1WResource.html#ae0b96cdd80b982c74adb9a762c77d479" title="Indicate interest in upload progress.">WResource::setUploadProgress()</a> for a more detailed discussion). Although you can modify the GUI from this signal, you still need to have a mechanism in place to update the client interface (using a <a class="el" href="classWt_1_1WTimer.html" title="A utility class which provides timer signals and single-shot timers.">WTimer</a> or using <a class="el" href="classWt_1_1WApplication.html#ad9631ca64e68d30d40cb49c90e55223d">server-push</a>). When the file has been uploaded, the <a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> signal is emitted, or if the file was too large, the <a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge()</a> signal is emitted. You may configure a progress bar that is used to show the upload progress using <a class="el" href="classWt_1_1WFileUpload.html#a6600c5a1232057418b3fe63d5db1c004" title="Sets a progress bar to indicate upload progress.">setProgressBar()</a>. When no JavaScript is available, the file will be uploaded with the next click event. Thus, <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> has no effect -- the file will already be uploaded, and the corresponding signals will already be emitted. To test if <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will start an upload, you may check using the <a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a> call.</p>
<p>Thus, to properly use the widget, one needs to follow these rules: </p>
<ul>
<li>
Be prepared to handle the <a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> or <a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge()</a> signals also when <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> was not called. </li>
<li>
Check using <a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a> if <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will schedule a new upload. if (!canUpload()) then <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will not have any effect. if (<a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a>), <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will start a new file upload, which completes succesfully using an <a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> signal or a <a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge()</a> signals gets emitted.  </li>
</ul>
<p>The WFileUpload widget must be hidden or deleted when a file is received. In addition it is wise to prevent the user from uploading the file twice as in the example below.</p>
<p>The uploaded file is automatically spooled to a local temporary file which will be deleted together with the <a class="el" href="classWt_1_1WFileUpload.html" title="A widget that allows a file to be uploaded.">WFileUpload</a> widget, unless <a class="el" href="classWt_1_1WFileUpload.html#a541d634e9f9e546f59417682811f01ef" title="Steals the spooled file.">stealSpooledFile()</a> is called.</p>
<p>Usage example: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classWt_1_1WFileUpload.html" title="A widget that allows a file to be uploaded.">Wt::WFileUpload</a> *<a class="code" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload</a> = <span class="keyword">new</span> <a class="code" href="classWt_1_1WFileUpload.html#a71fa85fc383df6e36c2bcf4d877b63ec" title="Creates a file upload widget.">Wt::WFileUpload</a>(<span class="keyword">this</span>);
 upload-&gt;<a class="code" href="classWt_1_1WFileUpload.html#ac7ad1324c86d378da9da9740a631a662" title="Sets the size of the file input.">setFileTextSize</a>(40);

 <span class="comment">// Provide a button</span>
 <a class="code" href="classWt_1_1WPushButton.html" title="A widget that represents a push button.">Wt::WPushButton</a> *uploadButton = <span class="keyword">new</span> <a class="code" href="classWt_1_1WPushButton.html" title="A widget that represents a push button.">Wt::WPushButton</a>(<span class="stringliteral">&quot;Send&quot;</span>, <span class="keyword">this</span>);

 <span class="comment">// Upload when the button is clicked.</span>
 uploadButton-&gt;<a class="code" href="classWt_1_1WInteractWidget.html#ae11e050cce0d4a8f742afa3ef92bfe8c" title="Event signal emitted when a mouse key was clicked on this widget.">clicked</a>().connect(upload, &amp;<a class="code" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">Wt::WFileUpload::upload</a>);
 uploadButton-&gt;<a class="code" href="classWt_1_1WInteractWidget.html#ae11e050cce0d4a8f742afa3ef92bfe8c" title="Event signal emitted when a mouse key was clicked on this widget.">clicked</a>().connect(uploadButton, &amp;<a class="code" href="classWt_1_1WWidget.html#a5f68ea0ab29adfb8e559153fca281e03" title="Disable thes widget.">Wt::WPushButton::disable</a>);

 <span class="comment">// Upload automatically when the user entered a file.</span>
 upload-&gt;<a class="code" href="classWt_1_1WFileUpload.html#a3abaf94bdba04e7833aa18bc7e8d0f40" title="Signal emitted when the user selected a new file.">changed</a>().connect(upload, &amp;<a class="code" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">WFileUpload::upload</a>);
 upload-&gt;<a class="code" href="classWt_1_1WFileUpload.html#a3abaf94bdba04e7833aa18bc7e8d0f40" title="Signal emitted when the user selected a new file.">changed</a>().connect(uploadButton, &amp;<a class="code" href="classWt_1_1WWidget.html#a5f68ea0ab29adfb8e559153fca281e03" title="Disable thes widget.">Wt::WPushButton::disable</a>);

 <span class="comment">// React to a succesfull upload.</span>
 upload-&gt;<a class="code" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded</a>().connect(<span class="keyword">this</span>, &amp;MyWidget::fileUploaded);

 <span class="comment">// React to a fileupload problem.</span>
 upload-&gt;<a class="code" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge</a>().connect(<span class="keyword">this</span>, &amp;MyWidget::fileTooLarge);
</pre></div><p>WFileUpload is an <a class="el" href="classWt_1_1WWidget.html#ac78e3af143883334c82031790c87416e">inline </a> widget.</p>
<h3>CSS</h3>
<p>The file upload itself corresponds to a <code>&lt;input type="file"&gt;</code> tag, but may be wrapped in a <code>&lt;form&gt;</code> tag. This widget does not provide styling, and styling through CSS is not well supported across browsers. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a66376fb4668a037760a91abad9f83f8a"></a><!-- doxytag: member="Wt::WFileUpload::canUpload" ref="a66376fb4668a037760a91abad9f83f8a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::WFileUpload::canUpload </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns whether <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will start a new file upload. </p>
<p>A call to <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> will only start a new file upload if there is no JavaScript support. Otherwise, the most recent file will already be uploaded.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method was renamed, and its result inverted, from the now deprecated method <a class="el" href="classWt_1_1WFileUpload.html#aba40acced8b3ab758f53d17f15afcf38" title="Returns whether the upload() slot will not start a new upload. (Deprecated)">isUploaded()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3abaf94bdba04e7833aa18bc7e8d0f40"></a><!-- doxytag: member="Wt::WFileUpload::changed" ref="a3abaf94bdba04e7833aa18bc7e8d0f40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1EventSignal.html">EventSignal</a> &amp; Wt::WFileUpload::changed </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal emitted when the user selected a new file. </p>
<p>One could react on the user selecting a (new) file, by uploading the file immediately.</p>
<p>Caveat: this signal is not emitted with konqueror and possibly other browsers. Thus, in the above scenario you should still provide an alternative way to call the <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> method. </p>

</div>
</div>
<a class="anchor" id="a17c00f860b120e0c70d8599d781cbf58"></a><!-- doxytag: member="Wt::WFileUpload::clientFileName" ref="a17c00f860b120e0c70d8599d781cbf58" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1WString.html">WString</a> Wt::WFileUpload::clientFileName </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the client filename. </p>
<p>When multiple files were uploaded, this returns the information from the first file. </p>

</div>
</div>
<a class="anchor" id="a7933d0052ba63d938870dde50b9aabda"></a><!-- doxytag: member="Wt::WFileUpload::contentDescription" ref="a7933d0052ba63d938870dde50b9aabda" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1WString.html">WString</a> Wt::WFileUpload::contentDescription </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the client content description. </p>
<p>When multiple files were uploaded, this returns the information from the first file. </p>

</div>
</div>
<a class="anchor" id="af7e87df88e456f3472bcda2dc07dae4c"></a><!-- doxytag: member="Wt::WFileUpload::dataReceived" ref="af7e87df88e456f3472bcda2dc07dae4c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Signal.html">Signal</a>&lt; ::uint64_t, ::uint64_t &gt;&amp; Wt::WFileUpload::dataReceived </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal emitted while a file is being uploaded. </p>
<p>When supported by the connector library, you can track the progress of the file upload by listening to this signal. </p>

</div>
</div>
<a class="anchor" id="a4207ca5ea74962583d146409301c3416"></a><!-- doxytag: member="Wt::WFileUpload::emptyFileName" ref="a4207ca5ea74962583d146409301c3416" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::WFileUpload::emptyFileName </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if no filename was given and thus no file uploaded. (<b>Deprecated</b>) </p>
<p>Return whether a non-empty filename was given.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd>This method was renamed to <a class="el" href="classWt_1_1WFileUpload.html#a51c7d5c96d671374ac9651d4fc3c9f08" title="Returns whether one or more files have been uploaded.">empty()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad23982f1823db145b0da23508a7aa7fa"></a><!-- doxytag: member="Wt::WFileUpload::enableAjax" ref="ad23982f1823db145b0da23508a7aa7fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::WFileUpload::enableAjax </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Progresses to an Ajax-enabled widget. </p>
<p>This method is called when the progressive bootstrap method is used, and support for AJAX has been detected. The default behavior will upgrade the widget's event handling to use AJAX instead of full page reloads, and propagate the call to its children.</p>
<p>You may want to reimplement this method if you want to make changes to widget when AJAX is enabled. You should always call the base implementation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WApplication.html#a78016406c4746c56b2c2ffce7c5e181f" title="Progresses to an Ajax-enabled user interface.">WApplication::enableAjax()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classWt_1_1WWebWidget.html#a2893433f4aa1d6775875f1ebddd7c5ba">Wt::WWebWidget</a>.</p>

</div>
</div>
<a class="anchor" id="a29dc78a0162c676f7b72904d595440d8"></a><!-- doxytag: member="Wt::WFileUpload::fileTooLarge" ref="a29dc78a0162c676f7b72904d595440d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Signal.html">Signal</a>&lt;int&gt;&amp; Wt::WFileUpload::fileTooLarge </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal emitted when the user tried to upload a too large file. </p>
<p>The parameter is the (approximate) size of the file the user tried to upload.</p>
<p>The maximum file size is determined by the maximum request size, which may be configured in the configuration file (&lt;max-request-size&gt;).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> </dd>
<dd>
<a class="el" href="classWt_1_1WApplication.html#aef3a8fa2a7825ed7439707d8a90b08aa" title="Signal which indicates that too a large request was received.">WApplication::requestTooLarge()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aba40acced8b3ab758f53d17f15afcf38"></a><!-- doxytag: member="Wt::WFileUpload::isUploaded" ref="aba40acced8b3ab758f53d17f15afcf38" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::WFileUpload::isUploaded </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns whether the <a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> slot will not start a new upload. (<b>Deprecated</b>) </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd>use <a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a> instead -- <a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a> == !isUploaded(). the name was confusing. </dd></dl>

</div>
</div>
<a class="anchor" id="a61784c68272e562e023a356fb1d3d55a"></a><!-- doxytag: member="Wt::WFileUpload::multiple" ref="a61784c68272e562e023a356fb1d3d55a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::WFileUpload::multiple </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns whether multiple files can be uploaded. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#a17f8e368c2ffc9836c65e470b311de9d" title="Sets whether the file upload accepts multiple files.">setMultiple()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6ba92fc8abf219fd42972dfe8fa5081e"></a><!-- doxytag: member="Wt::WFileUpload::progressBar" ref="a6ba92fc8abf219fd42972dfe8fa5081e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1WProgressBar.html">WProgressBar</a>* Wt::WFileUpload::progressBar </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the progress bar. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#a6600c5a1232057418b3fe63d5db1c004" title="Sets a progress bar to indicate upload progress.">setProgressBar()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a17f8e368c2ffc9836c65e470b311de9d"></a><!-- doxytag: member="Wt::WFileUpload::setMultiple" ref="a17f8e368c2ffc9836c65e470b311de9d" args="(bool multiple)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::WFileUpload::setMultiple </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"> <em>multiple</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets whether the file upload accepts multiple files. </p>
<p>In browsers which support the "multiple" attribute for the file upload (to be part of HTML5) control, this will allow the user to select multiple files at once.</p>
<p>All uploaded files are available from <a class="el" href="classWt_1_1WFileUpload.html#ab1ffd4c3c203e6772f4a1b2e235888e3" title="Returns the uploaded files.">uploadedFiles()</a>. The single-file API will return only information on the first uploaded file.</p>
<p>The default value is <code>false</code>. </p>

</div>
</div>
<a class="anchor" id="a6600c5a1232057418b3fe63d5db1c004"></a><!-- doxytag: member="Wt::WFileUpload::setProgressBar" ref="a6600c5a1232057418b3fe63d5db1c004" args="(WProgressBar *progressBar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::WFileUpload::setProgressBar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWt_1_1WProgressBar.html">WProgressBar</a> *&#160;</td>
          <td class="paramname"> <em>progressBar</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a progress bar to indicate upload progress. </p>
<p>When the file is being uploaded, upload progress is indicated using the provided progress bar. Both the progress bar range and values are configured when the upload starts.</p>
<p>If the provided progress bar already has a parent, then the file upload itself is hidden as soon as the upload starts. If the provided progress bar does not yet have a parent, then the bar becomes part of the file upload, and replaces the file prompt when the upload is started.</p>
<p>The default progress bar is 0 (no upload progress is indicated).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#af7e87df88e456f3472bcda2dc07dae4c" title="Signal emitted while a file is being uploaded.">dataReceived()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac0897be7484b668e6cc940c7673b1ca9"></a><!-- doxytag: member="Wt::WFileUpload::spoolFileName" ref="ac0897be7484b668e6cc940c7673b1ca9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Wt::WFileUpload::spoolFileName </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the spooled location of the uploaded file. </p>
<p>Returns the temporary filename in which the uploaded file was spooled. The file is guaranteed to exist as long as the <a class="el" href="classWt_1_1WFileUpload.html" title="A widget that allows a file to be uploaded.">WFileUpload</a> widget is not deleted, or a new file is not uploaded.</p>
<p>When multiple files were uploaded, this returns the information from the first file.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#a541d634e9f9e546f59417682811f01ef" title="Steals the spooled file.">stealSpooledFile()</a> </dd>
<dd>
<a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a541d634e9f9e546f59417682811f01ef"></a><!-- doxytag: member="Wt::WFileUpload::stealSpooledFile" ref="a541d634e9f9e546f59417682811f01ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::WFileUpload::stealSpooledFile </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Steals the spooled file. </p>
<p>By stealing the file, the spooled file will no longer be deleted together with this widget, which means you need to take care of managing that.</p>
<p>When multiple files were uploaded, this returns the information from the first file. </p>

</div>
</div>
<a class="anchor" id="ac17094f2fd6ae8cac1035161f7d80b9c"></a><!-- doxytag: member="Wt::WFileUpload::upload" ref="ac17094f2fd6ae8cac1035161f7d80b9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::WFileUpload::upload </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the file upload. </p>
<p>The <a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> signal is emitted when a file is uploaded, or the <a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge()</a> signal is emitted when the file size exceeded the maximum request size.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#aacb4622c8cd83d1635a8c0db13c8c0fe" title="Signal emitted when a new file was uploaded.">uploaded()</a> </dd>
<dd>
<a class="el" href="classWt_1_1WFileUpload.html#a66376fb4668a037760a91abad9f83f8a" title="Returns whether upload() will start a new file upload.">canUpload()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aacb4622c8cd83d1635a8c0db13c8c0fe"></a><!-- doxytag: member="Wt::WFileUpload::uploaded" ref="aacb4622c8cd83d1635a8c0db13c8c0fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1EventSignal.html">EventSignal</a> &amp; Wt::WFileUpload::uploaded </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal emitted when a new file was uploaded. </p>
<p>This signal is emitted when file upload has been completed. It is good practice to hide or delete the <a class="el" href="classWt_1_1WFileUpload.html" title="A widget that allows a file to be uploaded.">WFileUpload</a> widget when a file has been uploaded succesfully.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classWt_1_1WFileUpload.html#ac17094f2fd6ae8cac1035161f7d80b9c" title="Starts the file upload.">upload()</a> </dd>
<dd>
<a class="el" href="classWt_1_1WFileUpload.html#a29dc78a0162c676f7b72904d595440d8" title="Signal emitted when the user tried to upload a too large file.">fileTooLarge()</a> </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"><address style="text-align: right; margin: 3px"><small>
Generated on Tue Nov 30 2010 for <a href="http://www.webtoolkit.eu/wt">the
C++ Web Toolkit (Wt)</a> by&nbsp;<a
href="http://www.doxygen.org/index.html"><img src="doxygen.png"
alt="doxygen" border="0" style="vertical-align: middle; display:
inline-block; height: 2em"></a> 1.7.2</small></address>
</body>
</html>
